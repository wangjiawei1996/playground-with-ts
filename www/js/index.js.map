{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/core/checker.js","webpack:///./js/core/generator.js","webpack:///./js/core/soduko.js","webpack:///./js/core/toolkit.js","webpack:///./js/index.js","webpack:///./js/ui/grid.js","webpack:///./js/ui/popupnumbers.js"],"names":["checkArray","array","length","marks","Array","fill","i","v","j","Toolkit","require","Checker","matrix","_matrix","_matrixMarks","makeMatrix","checkRows","checkCols","checkBoxes","_success","every","row","mark","rowIndex","colIndex","col","boxIndex","box","getBoxCells","cellIndex","convertFromBoxIndex","module","exports","internalGenerator","orders","map","shuffle","n","fillNumber","fillRow","checkFillable","Generator","generator","solutionMatrix","level","puzzleMatrix","Math","random","cell","matrixToolkit","makeRow","from","endIndex","floor","boxToolkit","convertToBoxIndex","startRowIndex","startColIndex","result","push","Grid","PopupNumbers","grid","$","build","layout","popupNumbers","bindPopup","on","check","reset","clear","rebuild","Sudoku","container","_$container","sudoku","make","rowGroupClasses","colGroupClasses","$cells","rowValues","cellValue","addClass","text","$divArray","$spanArray","append","width","height","css","data","children","div","span","parseInt","toArray","$data","checker","matrixMarks","each","$span","is","removeClass","empty","$cell","e","target","popup","$panel","_$panel","hide","_$targetCell","hasClass","position","left","top","show"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/index.js\");\n","// 检查数独\n\nfunction checkArray (array) {\n  const length = array.length;\n  const marks = new Array(length);\n  marks.fill(true);\n  for (let i = 0; i < length - 1; i++) {\n      if (!marks[i]) {\n          continue;\n      }\n      const v = array[i];\n      // 是否有效 0-无效\n      if (!v) {\n          marks[i] = false;\n          continue;\n      }\n\n      // 是否有重复：i+1 ~ 9，是否和i位置重复\n      for (let j = i + 1; j < length; j++) {\n          if (v === array[j]) {\n              marks[i] = marks[j] = false;\n          }\n          \n      }\n      \n  }\n  return marks;\n}\n\n\n// console.log(checkArray([1, 2, 3, 4, 4, 5, 7, 4, 9]));\n\n\n\nconst Toolkit = require('./toolkit');\n\n\n// 输入：matrix，用户完成数独数据，9X9\n// 处理：对matrix 行、列、宫进行检查， 并填写marks\n// 输出：检查是否成功、marks\nclass Checker {\n  constructor (matrix) {\n      this._matrix = matrix;\n      this._matrixMarks = Toolkit.matrix.makeMatrix(true);\n  }\n\n  get matrixMarks () {\n      return this._matrixMarks;\n  }\n\n  get isSuccess () {\n      return this._success;\n  }\n\n  check () {\n      this.checkRows();\n      this.checkCols();\n      this.checkBoxes();\n\n      // 检查是否成功\n      this._success = this._matrixMarks.every(row => row.every(mark => mark));\n      return this._success;\n  }\n\n  checkRows () {\n      for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n          const row = this._matrix[rowIndex];\n          const marks = checkArray(row);\n\n          for (let colIndex = 0; colIndex < marks.length; colIndex++) {\n              if (!marks[colIndex]) {\n                  this._matrixMarks[rowIndex][colIndex] = false;\n              }\n              \n          }\n      }\n  }\n\n  checkCols () {\n      for (let colIndex = 0; colIndex < 9; colIndex++) {\n          const col = [];\n          for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n              col[rowIndex] = this._matrix[rowIndex][colIndex];\n              \n          }\n          const marks = checkArray(col);\n          for (let rowIndex = 0; rowIndex < marks.length; rowIndex++) {\n              if (!marks[rowIndex]) {\n                  this._matrixMarks[rowIndex][colIndex] = false;\n              }\n              \n          }\n      }\n  }\n\n  checkBoxes () {\n      for (let boxIndex = 0; boxIndex < 9; boxIndex++) {\n          const box = Toolkit.box.getBoxCells(this._matrix, boxIndex);\n          const marks = checkArray(box);\n          \n          for (let cellIndex = 0; cellIndex < marks.length; cellIndex++) {\n              if (!marks[cellIndex]) {\n                  const {rowIndex, colIndex} = Toolkit.box.convertFromBoxIndex(boxIndex, cellIndex)\n                  this._matrixMarks[rowIndex][colIndex] = false;\n              }\n              \n          }\n      }\n  }\n\n}\nmodule.exports = Checker;\n ","// 生成数独解决方案的方法\nconst Toolkit = require('./toolkit')\nmodule.exports = class Generator {\n\n  generator () {\n    while (!this.internalGenerator()) {\n      // TODO\n      // console.warn('try again');\n    }\n  }\n\n  internalGenerator () {\n    this.matrix = Toolkit.matrix.makeMatrix();\n    this.orders = Toolkit.matrix.makeMatrix()\n      .map(row => row.map((v, i) => i))\n      .map(row => Toolkit.matrix.shuffle(row));\n\n    // Toolkit.matrix.makeRow()\n    for (let n = 1; n <= 9; n++) {\n      if (!this.fillNumber(n)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  fillNumber (n) {\n    return this.fillRow(n, 0);\n  }\n\n  fillRow (n, rowIndex) {\n    if (rowIndex > 8) {\n      return true;\n    }\n\n    const row = this.matrix[rowIndex];\n    // 随机选择列\n    const orders = this.orders[rowIndex];\n\n    for (let i = 0; i < 9; i++) {\n      const colIndex = orders[i];\n\n      // 如果该位置已经有值，则跳过\n      if (row[colIndex]) {\n        continue;\n      }\n\n      // 检查此位置是否可以填 n （!列和宫都存在）\n      if (!Toolkit.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\n        continue;\n      }\n\n      row[colIndex] = n;\n      // 当前行填写 n 成功，递归调用 fillRow() 在下一行中填写 n\n      // 去下一行填写 n，如果没填进去，就继续寻找当前行的下一个位置\n      if (!this.fillRow(n, rowIndex + 1)) {\n        row[colIndex] = 0;\n        continue;\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n};","// 生成数独游戏\nconst Generator = require('./generator')\nmodule.exports = class Sudoku {\n  constructor() {\n    const generator = new Generator();\n    generator.generator();\n    this.solutionMatrix = generator.matrix;\n  }\n  make(level = 5) {\n    this.puzzleMatrix = this.solutionMatrix.map(row => {\n      return row.map(cell => Math.random()* 9 < level ? 0 : cell)\n    })\n  }\n}","const matrixToolkit = {\n  makeRow (v = 0) {\n    const array = new Array(9);\n    array.fill(v);\n    return array;\n  },\n  \n  makeMatrix (v = 0) {\n    return Array.from({length: 9}, () => this.makeRow(v));\n  },\n  \n  /**\n   * Fisher-Yates 洗牌算法\n   * 对传入数组进行随机排序，然后返回新数组\n   * @param {*} array\n   */\n  shuffle (array) {\n    const endIndex = array.length - 2;\n    for (let i = 0; i <= endIndex; i++) {\n      const j = i + Math.floor(Math.random() * (array.length - i));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  },\n\n  /**\n   * TODO 检查指定位置可以填写数字 n\n  */\n  checkFillable (matrix, n, rowIndex, colIndex) {\n    const row = matrix[rowIndex];\n    const col = this.makeRow().map((v, i) => matrix[i][colIndex]);\n    const {boxIndex} = boxToolkit.convertToBoxIndex(rowIndex, colIndex);\n    const box = boxToolkit.getBoxCells(matrix, boxIndex);\n\n    for (let i = 0; i < 9; i++) {\n      if (row[i] === n || col[i] === n || box[i] === n) {\n        return false;\n      }\n    }\n    return true;\n  }\n};\n\n/**\n * 宫坐标系工具\n*/\nconst boxToolkit = {\n  convertToBoxIndex (rowIndex, colIndex) {\n    return {\n      boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\n      cellIndex: rowIndex % 3 * 3 + colIndex % 3\n    }\n  },\n\n  convertFromBoxIndex (boxIndex, cellIndex) {\n    return {\n      rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\n      colIndex: boxIndex % 3 * 3 + cellIndex % 3\n    }\n  },\n\n  getBoxCells (matrix, boxIndex) {\n    const startRowIndex = Math.floor(boxIndex / 3) * 3;\n    const startColIndex = boxIndex % 3 * 3;\n    const result = [];\n\n    for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n      const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\n      const colIndex = startColIndex + cellIndex % 3;\n      result.push(matrix[rowIndex][colIndex]);\n    }\n    return result;\n  }\n}\n\n// 工具集\n\nmodule.exports = class Toolkit {\n  /**\n   * 矩阵和数据相关工具\n   */\n  static get matrix () {\n    return matrixToolkit;\n  }\n\n  /**\n   * 宫坐标系相关工具\n   */\n  static get box () {\n    return boxToolkit;\n  }\n};","const Grid = require('./ui/grid');\nconst PopupNumbers = require('./ui/popupnumbers');\n\nconst grid = new Grid($(\"#container\"));\ngrid.build(); \ngrid.layout();\n\nconst popupNumbers = new PopupNumbers($(\"#popupNumbers\"));\ngrid.bindPopup(popupNumbers);\n\n$(\"#check\").on(\"click\", e => {\n  grid.check()\n});\n$(\"#reset\").on(\"click\", e => {\n  grid.reset()\n});\n$(\"#clear\").on(\"click\", e => {\n  grid.clear()\n});\n$(\"#rebuild\").on(\"click\", e => {\n  grid.rebuild();\n});\n","// 生成九宫格\nconst Toolkit = require('../core/toolkit');\nconst Sudoku = require('../core/soduko')\nconst Checker = require('../core/checker')\nclass Grid {\n  constructor(container) {\n    this._$container = container;\n  }\n  build() {\n    // const generator = new Generator();\n    // generator.generator();\n    // const matrix = generator.matrix;\n    const sudoku = new Sudoku();\n    sudoku.make();\n    const matrix = sudoku.puzzleMatrix\n    const rowGroupClasses = [\"row_g_top\", \"row_g_middle\", \"row_g_bottom\"];\n    const colGroupClasses = [\"col_g_left\", \"col_g_center\", \"col_g_right\"];\n    const $cells = matrix.map(rowValues => rowValues.map((cellValue, colIndex) => {\n      return $(\"<span>\")\n        .addClass(colGroupClasses[colIndex % 3])\n        .addClass(cellValue ? \"fixed\" : \"empty\")\n        .text(cellValue);\n    }));\n    const $divArray = $cells.map(($spanArray, rowIndex) => {\n      return $(\"<div>\")\n        .addClass('row')\n        .addClass(rowGroupClasses[rowIndex % 3])\n        .append($spanArray)\n    });\n    this._$container.append($divArray);\n  }\n  layout() {\n    const width = $(\"span:first\", this._$container).width();\n    $(\"span\", this._$container)\n      .height(width)\n      .css({\n        \"line-height\": `${width}px`,\n        \"font-size\": width < 32 ? `${width / 2}px` : \"\"\n      });\n  }\n  check () {\n    // 获取需要检测的数据\n    const data = this._$container.children().map((rowIndex, div) => {\n        return $(div).children().map((colIndex, span) => parseInt($(span).text()) || 0);\n    })\n    .toArray()\n    .map($data => $data.toArray());\n    const checker = new Checker(data);\n    if (checker.check()) {\n        return true;\n    }\n\n    // 检查不成功，进行标记\n    const marks = checker.matrixMarks;\n    this._$container.children().each((rowIndex, div) => {\n        $(div).children().each((colIndex, span) => {\n            const $span = $(span);\n            if ($span.is('.fixed') || marks[rowIndex][colIndex]) {\n                $span.removeClass('error');\n            } else {\n                $span.addClass('error');\n            }\n        })\n    })\n}\n  reset() {\n\n  }\n  clear() {\n\n  }\n  rebuild() {\n    this._$container.empty();\n    this.build();\n    this.layout();\n  }\n  bindPopup(popupNumbers) {\n    this._$container.on(\"click\", \"span\", e => {\n        const $cell = $(e.target);\n        if ($cell.is('.fixed')) {\n          return;\n        }\n        popupNumbers.popup($cell);\n    })\n  }\n}\nmodule.exports = Grid;","// 处理弹出的操作面板\nmodule.exports = class PopupNumbers {\n  constructor ($panel) {\n    this._$panel = $panel.hide().removeClass('hidden');\n    this._$panel.on('click', 'span', e => {\n        const $span = $(e.target);\n        const $cell = this._$targetCell;\n    \n        // mark1，mark2 回填样式\n        if ($span.hasClass('mark1')) {\n            // 回填样式\n            if ($cell.hasClass('mark1')) {\n                $cell.removeClass('mark1')\n            } else {\n                $cell.removeClass('mark2')\n                    .addClass('mark1')\n            }\n        } else if ($span.hasClass('mark2')) {\n            // 回填样式\n            if ($cell.hasClass('mark2')) {\n                $cell.removeClass('mark2')\n            } else {\n                $cell.removeClass('mark1')\n                    .addClass('mark2')\n            }\n        } else if ($span.hasClass('empty')) {\n            // 取消数字填写， 取消mark\n            $cell.text(0).addClass('empty').removeClass('mark1 mark2');\n        } else {\n            // 1-9 会填数字\n            $cell.removeClass('empty').text($span.text());    \n        }\n\n        this.hide();\n\n    });\n  }\n  popup($cell) {\n    this._$targetCell = $cell;\n    const {left, top} = $cell.position();\n    this._$panel\n      .css({\n        left: `${left}px`,\n        top: `${top}px`\n      })\n      .show()\n  }\n  hide() {\n    this._$panel.hide();\n  }\n}"],"sourceRoot":""}